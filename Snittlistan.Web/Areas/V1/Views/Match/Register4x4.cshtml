@model Register4x4MatchViewModel

@{
    ViewBag.Title = "Registrera";
    Bundles.Reference("Content/js/conditional-validation.js", "page");
    Bundles.Reference("Content/js/datepicker.js", "page");
    Bundles.Reference("Content/js/autocomplete.js", "page");
    Bundles.Reference("Content/js/knockout-2.0.0.js", "page");
    Bundles.Reference("Content/js/team4x4.js", "page");
}

@section scripts
{
    @Content.Script(ScriptType.JQueryValidate)
    @Content.Script(ScriptType.JQueryValidateLocalized)
    @Content.Script(ScriptType.JQueryValidateUnobtrusive)
    <script type="text/javascript">
    var initialData = @(Html.Raw(Json.Encode(Model)));
    </script>
    @Bundles.RenderScripts("page")
}

<h2>@ViewBag.Title</h2>
<p>@Html.ActionLink("Tillbaka", "Index", new { }, new { data_button = "data_button" })</p>

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Matchinformation</legend>

        <table class="invis">
            <tr>
                <td class="editor-label">@Html.LabelFor(model => model.Location)</td>
                <td class="editor-field">
                    @Html.TextBoxFor(
                        model => model.Location,
                        new
                            {
                                data_autocomplete = Url.Action("LocationsQuickSearch", "Search"),
                                autofocus = "autofocus"
                            })
                    @Html.ValidationMessageFor(model => model.Location)
                </td>
            </tr>
            <tr>
                <td class="editor-label">@Html.LabelFor(model => model.Date)</td>
                <td class="editor-field">
                    @Html.EditorFor(model => model.Date)
                    @Html.ValidationMessageFor(model => model.Date)
                </td>
            </tr>
        </table>

        <h2>Hemmalag</h2>
        @Html.EditorFor(model => model.HomeTeam, "TeamEditor4x4", new { team = 1 })

        <h2>Bortalag</h2>
        @Html.EditorFor(model => model.AwayTeam, "TeamEditor4x4", new { team = 2 })

        <p>
            <input type="submit" value="Skapa" />
        </p>
    </fieldset>
}
